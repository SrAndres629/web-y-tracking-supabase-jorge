{% extends "layouts/base.html" %}

{% block extra_head %}
<!-- LCP Optimization: Preload Service Image -->
<link
  rel="preload"
  href="{{ url_for('static', path=(service.image|replace('/static/', ''))) }}?v={{ system_version }}"
  as="image"
  fetchpriority="high"
/>
<style>
    /* Service Elite Tokens */
    .text-glow {
        text-shadow: 0 0 20px rgba(212, 175, 53, 0.3);
    }
</style>
{% endblock extra_head %}

{% block content %}
<main class="service-detail bg-background-dark">
    <!-- Service Hero Section (Stitch Elite) -->
    <section class="relative h-screen w-full flex items-center justify-center overflow-hidden">
        <!-- Hero Background with Gradient Overlay -->
        <div class="absolute inset-0 z-0 bg-background-dark">
            <div class="absolute inset-0 bg-gradient-to-b from-background-dark/40 via-background-dark/60 to-background-dark z-10 pointer-events-none"></div>
            <div class="absolute inset-0 bg-gradient-to-tr from-luxury-gold/10 via-transparent to-transparent z-10 pointer-events-none"></div>
            <img 
                src="{{ url_for('static', path=(service.image|replace('/static/', ''))) }}?v={{ system_version }}" 
                class="w-full h-full object-cover opacity-30 scale-105" 
                alt="Fondo {{ service.title }}" 
                width="1920" height="1080">
        </div>
        
        <!-- Hero Content -->
        <div class="relative z-20 text-center px-4 max-w-5xl mx-auto" data-aos="fade-up">
            <span class="text-luxury-gold text-xs font-medium tracking-[0.5em] uppercase mb-6 block animate-pulse">
                {{ service.subtitle }}
            </span>
            <h1 class="font-serif text-white text-5xl md:text-7xl lg:text-9xl font-black mb-10 leading-tight text-glow tracking-tighter">
                {{ service.title | safe }}
            </h1>
            <p class="text-white/70 max-w-2xl mx-auto mb-12 text-lg md:text-xl font-light italic leading-relaxed">
                "{{ service.description }}"
            </p>
            <div class="flex flex-col md:flex-row items-center justify-center gap-6">
                <button onclick="handleConversion('Service Hero {{ service.id }}')" class="btn-gold-liquid text-black text-sm font-bold uppercase tracking-[0.2em] px-10 py-5 rounded-lg hover:scale-105 transition-transform shadow-2xl shadow-luxury-gold/30">
                    <i class="fab fa-whatsapp mr-2"></i> Agendar Valoraci√≥n Elite
                </button>
            </div>
        </div>

        <!-- Scroll Indicator -->
        <div class="absolute bottom-10 left-1/2 -translate-x-1/2 z-20 flex flex-col items-center gap-2 opacity-50">
            <div class="w-px h-12 bg-gradient-to-b from-luxury-gold to-transparent"></div>
        </div>
    </section>

    <!-- Content Blocks (Dynamic Route Injections) -->
    {% block service_content %}{% endblock service_content %}

    <!-- Shared Sections (Optional/Configurable) -->
    {% if flags.show_gallery %}
        {% block service_gallery %}{% endblock service_gallery %}
    {% endif %}

</main>
{% endblock content %}
